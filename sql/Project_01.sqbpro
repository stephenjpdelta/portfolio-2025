<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="portfolio.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="3"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="801"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="ahca_polls" custom_title="0" dock_id="1" table="4,10:mainahca_polls"/><dock_state state="000000ff00000000fd00000001000000020000024900000213fc0100000001fb000000160064006f0063006b00420072006f00770073006500310100000000000002490000011e00ffffff000002490000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="ahca_polls" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="62"/><column index="2" value="62"/><column index="3" value="195"/><column index="4" value="39"/><column index="5" value="50"/><column index="6" value="300"/><column index="7" value="300"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">--Return the count of rows in the polling table.

SELECT count(*)
FROM ahca_polls;

--Return the count of rows for Pollster &quot;YouGov&quot;.

SELECT count(*)
FROM ahca_polls
WHERE Pollster = &quot;YouGov&quot;;

--Return 20 rows from the polling table.

SELECT *
FROM ahca_polls
LIMIT 10;

--Return the count of distinct pollsters from the polling table.

SELECT COUNT(DISTINCT Pollster)
FROM ahca_polls;

--Return the names of distinct Pollsters from the polling table.

SELECT DISTINCT Pollster
FROM ahca_polls
ORDER BY Pollster;

--Return all distinct Pollsters ordered by Favor.

SELECT DISTINCT Pollster, Favor
FROM ahca_polls
ORDER BY Favor;

--Return the average values (to 1 dp) favors and oppositions for the polling table.

SELECT
	round(AVG(Favor),1) AS avg_favor,
	round(AVG(oppose),1) AS avg_oppose
FROM ahca_polls;

--Return the total Favors and the total Oppositions for the table.

SELECT
	SUM(favor) AS total_favor,
	SUM(oppose) AS total_oppose
FROM ahca_polls;

--Return the most recent poll date.

SELECT MAX(End)
FROM ahca_polls;

--Return the first poll date.

SELECT MIN(Start)
FROM ahca_polls;

--Return the number of polls for each pollster.

SELECT Pollster, COUNT(*) AS num_polls
FROM ahca_polls
GROUP BY Pollster
ORDER BY num_polls DESC;

--Return the Average value of Favor for each Pollster, grouped by pollster and arranged by avg_favor (Descending).

SELECT Pollster, AVG(Favor) AS avg_favor
FROM ahca_polls
GROUP BY Pollster
ORDER BY avg_favor DESC;

--Same as above but it's the sum of Favors not average.

SELECT Pollster, SUM(Favor) as total_favor
FROM ahca_polls
GROUP BY Pollster
ORDER BY total_favor DESC;

--Return the average favor and average opposition for each Pollster, grouped by Pollster, ordered by average favor Descending.

SELECT Pollster,
	AVG(Favor) AS avg_favor,
	AVG(Oppose) AS avg_oppose
FROM ahca_polls
GROUP BY Pollster
ORDER BY avg_favor DESC;

--Return all rows from polling table where Pollster is &quot;IPSOS&quot;.

SELECT *
FROM ahca_polls
WHERE Pollster = &quot;IPSOS&quot;;

--Return the count of distinct values for 'Text' Column in polling table.

SELECT COUNT(DISTINCT Text)
FROM ahca_polls;

--Returnm the distinct values for column 'Text' in polling table.

SELECT DISTINCT Text
FROM ahca_polls
ORDER BY Text;

--Return all rows from polling table where Text column has reference to health care.

SELECT *
FROM ahca_polls
WHERE Text LIKE &quot;%health care%&quot;;

--Return all rows from polling table where the Favor value is greater than the oppose value.

SELECT *
FROM ahca_polls
WHERE Favor &gt; Oppose;

--Return all rows from the polling table where the oppose value is greater than the favor value.

SELECT *
FROM ahca_polls
WHERE Oppose &gt; Favor;

--Return the count of the rows where oppose outweighs favor.

SELECT COUNT(*)
FROM ahca_polls
WHERE Oppose &gt; Favor;

--Return the row with the greatest favor value.

SELECT *
FROM ahca_polls
ORDER BY Favor DESC
LIMIT 1;

--Return row with the greatest oppose value.

SELECT *
FROM ahca_polls
ORDER BY Oppose DESC
LIMIT 1;

--Creates a value 'month' from Start date, returns average in Favor and average opposing across all rows, rounded to 1 dp, grouped and ordered by month.  Order is ascending by defaulit.

SELECT
	SUBSTR(Start, 1, 2) AS month,
	Round(AVG(Favor), 1) AS avg_favor,
	Round(AVG(oppose), 1) AS avg_oppose
FROM ahca_polls
GROUP BY month
ORDER BY month;

--Return the count of rows without a web link.

SELECT COUNT(*)
FROM ahca_polls
WHERE URL IS NULL OR URL = '';

--Return values for Pollster and URL where URL is not blank.

SELECT Pollster, Url
FROM ahca_polls
WHERE URL IS NOT NULL AND URL &lt;&gt; '';

--Returns descriptive statistics for each pollster.
--Includes: number of polls, average in favor, average oppose, first poll and last poll.
--Grouped by pollster, ordered by number of polls descending.

SELECT
	Pollster,
	COUNT(*) AS num_polls,
	AVG(Favor) AS avg_favor,
	AVG(Oppose) AS avg_ooppose,
	MIN(Start) AS first_poll,
	MAX(End) AS last_poll
FROM ahca_polls
GROUP BY Pollster
ORDER BY num_polls DESC;

--Returns rows where the combined count of Favor + oppose is less than 75 or above 95.

SELECT *
FROM ahca_polls
WHERE Favor + Oppose &lt; 75
OR Favor + Oppose &gt; 95;
	
--Checking Column Names:
PRAGMA table_info(ahca_polls);
</sql><sql name="project_01_polling_analysis.sql" filename="C:/Users/steve/Documents/portfolio-2025/sql/project_01_polling_analysis.sql">-- Reference to file &quot;C:/Users/steve/Documents/portfolio-2025/sql/project_01_polling_analysis.sql&quot; (not supported by this version) --</sql><current_tab id="0"/></tab_sql></sqlb_project>
